# Azure VNet module

Module to provision vnet on azure


## Software dependencies

The module depends on the following software components:

### Terraform version

- \>= v0.15

### Terraform providers


- azurerm (hashicorp/azurerm)

### Module dependencies


- resource_group - [github.com/cloud-native-toolkit/terraform-azure-resource-group](https://github.com/cloud-native-toolkit/terraform-azure-resource-group) (>= 1.0.0)

## Example usage

```hcl
module "vnet" {
  source = "github.com/cloud-native-toolkit/terraform-azure-vnet"

  address_prefix_count = var.vnet_address_prefix_count
  address_prefixes = var.vnet_address_prefixes == null ? null : jsondecode(var.vnet_address_prefixes)
  base_security_group_name = var.vnet_base_security_group_name
  internal_cidr = var.vnet_internal_cidr
  name = var.vnet_name
  name_prefix = var.name_prefix
  provision = var.vnet_provision
  region = var.region
  resource_group_name = module.resource_group.name
}

```

## Module details

### Inputs

| Name | Description | Required | Default | Source |
|------|-------------|---------|----------|--------|
| resource_group_name | The name of the IBM Cloud resource group where the VPC instance will be created. | true |  | resource_group.name |
| region | The IBM Cloud region where the cluster will be/has been installed. | true |  |  |
| name | The name of the vpc instance | true |  |  |
| name_prefix | The name of the vpc resource | true |  |  |
| provision | Flag indicating that the instance should be provisioned. If false then an existing instance will be looked up | false | true |  |
| address_prefix_count | The number of ipv4_cidr_blocks | false | 0 |  |
| address_prefixes | List of ipv4 cidr blocks for the address prefixes (e.g. ['10.10.10.0/24']). If you are providing cidr blocks then a value must be provided for each of the subnets. If you don't provide cidr blocks for each of the subnets then values will be generated using the {ipv4_address_count} value. | false |  |  |
| base_security_group_name | The name of the base security group. If not provided the name will be based on the vpc name | true |  |  |
| internal_cidr | The cidr range of the internal network | false | 10.0.0.0/8 |  |

### Outputs

| Name | Description |
|------|-------------|
| name | The name of the VNet instance |
| id | The id of the VNet instance |
| crn | The CRN for the VNet instance |
| count | The number of VPCs created by this module. Always set to 1 |
| names | The name of the vpc instance |
| ids | The id of the vnet instance |
| addresses | The ip address ranges for the VNet |

## Resources

- [Documentation](https://operate.cloudnativetoolkit.dev)
- [Module catalog](https://modules.cloudnativetoolkit.dev)

> License: Apache License 2.0 | Generated by iascable (0.1.8)
